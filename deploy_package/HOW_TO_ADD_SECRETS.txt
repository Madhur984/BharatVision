# üîê How to Add Secrets in HuggingFace Spaces

## Step-by-Step Visual Guide

![HuggingFace Secrets Guide](file:///C:/Users/gmadh/.gemini/antigravity/brain/9f16ba1c-39cd-465f-a792-08aab68f4fb3/huggingface_secrets_guide_1765441740825.png)

---

## Detailed Instructions

### Step 1: Go to Settings Tab

In your HuggingFace Space page, you'll see tabs at the top:
- **App** (shows your running app)
- **Files** (where you uploaded files)
- **Settings** ‚Üê Click this one

### Step 2: Find Repository Secrets

Scroll down the Settings page until you see:
- **Repository secrets** section
- It will say "Secrets are environment variables that are encrypted"

### Step 3: Click "New Secret" Button

Click the **"New secret"** button (blue button)

### Step 4: Add Each Secret

You need to add 3 secrets. For each one:

#### Secret 1: HF_TOKEN
1. **Name:** Type `HF_TOKEN` (exactly as shown, all caps)
2. **Value:** Paste `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`
3. Click **Save**

#### Secret 2: HF_MODEL
1. Click **"New secret"** again
2. **Name:** Type `HF_MODEL` (exactly as shown, all caps)
3. **Value:** Type `google/gemma-2-9b-it`
4. Click **Save**

#### Secret 3: ENVIRONMENT
1. Click **"New secret"** again
2. **Name:** Type `ENVIRONMENT` (exactly as shown, all caps)
3. **Value:** Type `production`
4. Click **Save**

---

## ‚úÖ Verify Secrets Are Added

After adding all 3, you should see them listed:
- ‚úÖ HF_TOKEN (value hidden)
- ‚úÖ HF_MODEL (value hidden)
- ‚úÖ ENVIRONMENT (value hidden)

---

## üèóÔ∏è Wait for Build

1. Go back to the **App** tab
2. You'll see build logs starting automatically
3. Watch for these messages:
   ```
   Building Docker image...
   Installing dependencies...
   INFO: Initialized HuggingFace client with model: google/gemma-2-9b-it
   INFO: Uvicorn running on http://0.0.0.0:7860
   ```
4. Status will change to **Running** ‚úì

This takes about 2-3 minutes.

---

## üåê Get Your Space URL

Once it's running, your Space URL is:
```
https://YOUR_USERNAME-bharatvision-ml-api.hf.space
```

**How to find your username:**
- Look at the top of the Space page
- You'll see: `YOUR_USERNAME / bharatvision-ml-api`
- That's your URL!

**Example:**
If you see `madhur984 / bharatvision-ml-api`, your URL is:
```
https://madhur984-bharatvision-ml-api.hf.space
```

---

## üß™ Test Your API

Once it's running, test it in PowerShell:

```powershell
# Replace YOUR_USERNAME with your actual username
curl https://YOUR_USERNAME-bharatvision-ml-api.hf.space/health
```

You should see:
```json
{
  "status": "healthy",
  "service": "BharatVision HF API",
  "model": "google/gemma-2-9b-it",
  "model_available": true
}
```

---

## üìã Quick Checklist

- [ ] Clicked Settings tab
- [ ] Found Repository secrets section
- [ ] Added HF_TOKEN secret
- [ ] Added HF_MODEL secret
- [ ] Added ENVIRONMENT secret
- [ ] Went to App tab
- [ ] Watched build logs
- [ ] Saw "Running" status
- [ ] Copied Space URL
- [ ] Tested /health endpoint

---

## ‚ùì Common Issues

**Can't find Settings tab?**
- Make sure you're on your Space page (not the main HuggingFace site)
- URL should be: `huggingface.co/spaces/YOUR_USERNAME/bharatvision-ml-api`

**Don't see "New secret" button?**
- Scroll down in Settings - it's near the bottom
- Make sure you're logged in to HuggingFace

**Build fails?**
- Check the logs in the App tab
- Make sure all 3 secrets are added correctly
- Verify secret names are EXACTLY as shown (case-sensitive)

---

**Once you have your Space URL, share it with me and I'll help configure Streamlit Cloud!**
